foreign_alignment = {
	expand_FROM_trade = {
		icon = generic_factory
		priority = 8

		allowed = {
			original_tag = HUN
		}

		available = {
			has_prime_minister_chosen = yes
			has_war = no
			FROM = { has_war = no }
			NOT = { has_country_flag = HUN_expanding_trade }
		}

		target_trigger = {
			FROM = {
				is_major = yes
				capital_scope = { is_on_continent = europe }
				NOT = { has_war_with = ROOT }
				if = {
					limit = {
						has_government = communism
					}
					ROOT = {
						NOT = {
							has_government = fascism
							has_government = neutrality
						}
					}
				}
				else_if = {
					limit = {
						has_government = fascism
					}
					ROOT = {
						NOT = {
							has_government = communism
							has_government = democratic
						}
					}
				}
				else_if = {
					limit = {
						has_government = neutrality
					}
					ROOT = {
						NOT = { has_government = communism }
					}
				}
			}
		}

		visible = {
			original_tag = HUN
			has_war = no
		}

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0.5
				FROM = {
					tag = GER
					has_government = fascism
				}
				has_idea = HUN_german_trade
			}
			modifier = {
				factor = 0
				FROM = {
					tag = GER
					has_government = fascism
				}
				has_idea = HUN_german_trade2
			}
			modifier = {
				factor = 0
				FROM = {
					tag = GER
					has_government = fascism
				}
				OR = {
					has_completed_focus = HUN_appointzoltantildy
					has_completed_focus = HUN_restoreistvanbethlen
				}
			}
		}

		cost = 10

		modifier = {
			political_power_gain = -0.2
			country_resource_steel = -4
		}

		days_remove = 30
		days_re_enable = 5

		complete_effect = {
			hidden_effect = {
				set_country_flag = HUN_expanding_trade
			}

			add_offsite_building = { type = industrial_complex level = 3 }
			FROM = { add_political_power = 10 }
		}

		remove_effect = {
			hidden_effect = {
				clr_country_flag = HUN_expanding_trade
			}

			add_offsite_building = { type = industrial_complex level = -3 }

			if = {
				limit = {
					FROM = {
						original_tag = ENG
						has_government = democratic
					}
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.03
				}
			}
			else = {
				add_popularity = {
					ideology = FROM
					popularity = 0.03
				}
			}

			if = {
				limit = {
					FROM = { has_government = fascism }
				}

				if = {
					limit = {
						GER = { has_government = fascism }
					}
					add_german_trade_HUN = yes
				}
			}
			else_if = {
				limit = {
					FROM = { has_government = communism }
				}

				if = {
					limit = {
						GER = { has_government = fascism }
					}
					remove_german_trade_HUN = yes
				}
			}
			else = {
				if = {
					limit = {
						GER = { has_government = fascism }
					}
					remove_german_trade_HUN = yes
				}
			}
		}
	}

	expand_british_aid = {
		icon = eng_trade_unions_support
		priority = 9

		allowed = {
			original_tag = HUN
		}

		available = {
			has_completed_focus = HUN_british_industrial_aid
			has_war = no
			FROM = {
				has_war = no
			}
		}

		target_trigger = {
			FROM = {
				OR = {
					AND = {
						tag = ENG
						OR = {
							has_government = democratic
							has_government = HUN
						}
					}
					AND = {
						ENG = {
							NOT = {
								has_government = democratic
							}
						}
						has_government = democratic
						is_major = yes
						capital_scope = {
							is_on_continent = europe
						}
					}
				}
			}
		}

		visible = {
			original_tag = HUN
			has_completed_focus = HUN_restoreistvanbethlen
		}

		cost = 10

		ai_will_do = {
			base = 10
		}

		modifier = {
			democratic_drift = 0.05
			political_power_gain = -0.1
		}

		complete_effect = {
			add_offsite_building = { type = industrial_complex level = 2 }
		}

		remove_effect = {
			add_offsite_building = { type = industrial_complex level = -2 }
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			remove_german_trade_HUN = yes
		}

		days_remove = 60
		days_re_enable = 10
	}

	request_FROM_support = {
		icon = generic_break_treaty
		priority = 50

		allowed = {
			original_tag = HUN
		}

		available = {
			has_completed_focus = HUN_the_trianon_trauma
			OR = {
				AND = {
					focus_progress = {
						focus = HUN_demand_southern_slovakia
						progress > 0
					}
					NOT = {
						has_completed_focus = HUN_demand_southern_slovakia
					}
					if = {
						limit = {
							focus_progress = {
								focus = HUN_demand_southern_slovakia
								progress > 0
							}
							NOT = {
								has_completed_focus = HUN_demand_southern_slovakia
							}
						}
						any_country = {
							NOT = {
								OR = {
									tag = HUN
									is_subject_of = HUN
								}
							}
							owns_state = 664 # Kosice
						}
					}
				}
				AND = {
					focus_progress = {
						focus = HUN_demand_vojvodina
						progress > 0
					}
					NOT = {
						has_completed_focus = HUN_demand_vojvodina
					}
					if = {
						limit = {
							focus_progress = {
								focus = HUN_demand_vojvodina
								progress > 0
							}
							NOT = {
								has_completed_focus = HUN_demand_vojvodina
							}
						}
						OR = {
							any_country = {
								NOT = {
									OR = {
										tag = HUN
										is_subject_of = HUN
									}
								}
								owns_state = 45 # Backa
							}
							any_country = {
								NOT = {
									OR = {
										tag = HUN
										is_subject_of = HUN
									}
								}
								owns_state = 764 # West Banat
							}
						}
					}
				}
				AND = {
					focus_progress = {
						focus = HUN_protect_the_ruthenians
						progress > 0
					}
					NOT = {
						has_completed_focus = HUN_protect_the_ruthenians
					}
					if = {
						limit = {
							focus_progress = {
								focus = HUN_protect_the_ruthenians
								progress > 0
							}
							NOT = {
								has_completed_focus = HUN_protect_the_ruthenians
							}
						}
						any_country = {
							NOT = {
								OR = {
									tag = HUN
									is_subject_of = HUN
								}
							}
							owns_state = 73 # Carpathia
						}
					}
				}
				AND = {
					focus_progress = {
						focus = HUN_demand_transylvania
						progress > 0
					}
					NOT = {
						has_completed_focus = HUN_demand_transylvania
					}
					if = {
						limit = {
							focus_progress = {
								focus = HUN_demand_transylvania
								progress > 0
							}
							NOT = {
								has_completed_focus = HUN_demand_transylvania
							}
						}
						OR = {
							any_country = {
								NOT = {
									OR = {
										tag = HUN
										is_subject_of = HUN
									}
								}
								owns_state = 76 # Szekelyland
							}
							any_country = {
								NOT = {
									OR = {
										tag = HUN
										is_subject_of = HUN
									}
								}
								owns_state = 82 # Timis
							}
							any_country = {
								NOT = {
									OR = {
										tag = HUN
										is_subject_of = HUN
									}
								}
								owns_state = 83 # Crisana
							}
							any_country = {
								NOT = {
									OR = {
										tag = HUN
										is_subject_of = HUN
									}
								}
								owns_state = 84 # Transylvania
							}
						}
					}
				}
			}
			has_war = no
			FROM = {
				has_war = no
			}
		}

		target_trigger = {
			FROM = {
				is_major = yes
				capital_scope = { is_on_continent = europe }
				NOT = {
					tag = CZE
					tag = ROM
					tag = YUG
					owns_state = 45 # Backa
					owns_state = 73 # Carpathia
					owns_state = 76 # Szekelyland
					owns_state = 82 # Timis
					owns_state = 83 # Crisana
					owns_state = 84 # Transylvania
					owns_state = 664 # Kosice
					owns_state = 764 # West Banat
				}
			}
		}

		visible = {
			has_completed_focus = HUN_the_trianon_trauma
			OR = {
				NOT = { has_completed_focus = HUN_demand_southern_slovakia }
				NOT = { has_completed_focus = HUN_demand_vojvodina }
				NOT = { has_completed_focus = HUN_protect_the_ruthenians }
				NOT = { has_completed_focus = HUN_demand_transylvania }
			}
			OR = {
				any_country = {
					NOT = {
						OR = {
							original_tag = HUN
							is_subject_of = HUN
						}
					}
					owns_state = 45 # Backa
				}
				any_country = {
					NOT = {
						OR = {
							original_tag = HUN
							is_subject_of = HUN
						}
					}
					owns_state = 73 # Carpathia
				}
				any_country = {
					NOT = {
						OR = {
							original_tag = HUN
							is_subject_of = HUN
						}
					}
					owns_state = 76 # Szekelyland
				}
				any_country = {
					NOT = {
						OR = {
							original_tag = HUN
							is_subject_of = HUN
						}
					}
					owns_state = 82 # Timis
				}
				any_country = {
					NOT = {
						OR = {
							original_tag = HUN
							is_subject_of = HUN
						}
					}
					owns_state = 83 # Crisana
				}
				any_country = {
					NOT = {
						OR = {
							original_tag = HUN
							is_subject_of = HUN
						}
					}
					owns_state = 84 # Transylvania
				}
				any_country = {
					NOT = {
						OR = {
							original_tag = HUN
							is_subject_of = HUN
						}
					}
					owns_state = 664 # Kosice
				}
				any_country = {
					NOT = {
						OR = {
							original_tag = HUN
							is_subject_of = HUN
						}
					}
					owns_state = 764 # West Banat
				}
			}
		}

		cost = 50
		days_remove = 70
		days_re_enable = 0

		complete_effect = {
			FROM = {
				country_event = {
					id = gamer_horthy.12
					hours = 4
				}
			}
		}
	}

	join_FROM = {
		icon = hol_exchange_intelligence_data
		priority = 10

		allowed = {
			original_tag = HUN
		}

		available = {
			OR = {
				has_completed_focus = HUN_the_trianon_trauma
				has_completed_focus	= HUN_rapproachement_with_little_entente
			}
			is_faction_leader = no # you shouldn't be able to betray your own faction
			has_capitulated = no
			NOT = {
				has_war_with = FROM
			}
			if = {
				limit = {
					FROM = {
						has_government = democratic
					}
				}
				democratic > 0.4
			}
			if = {
				limit = {
					FROM = {
						has_government = fascism
					}
				}
				fascism > 0.4
			}
			if = {
				limit = {
					FROM = {
						has_government = communism
					}
				}
				communism > 0.4
			}
			if = {
				limit = {
					FROM = {
						has_government = neutrality
					}
				}
				neutrality > 0.4
			}
		}

		target_trigger = {
			FROM = {
				is_faction_leader = yes
				NOT = {
					is_in_faction_with = ROOT
				}
				OR = {
					capital_scope = { is_on_continent = europe }
					original_tag = USA
				}
				if = {
					limit = {
						has_global_flag = HUN_germany_has_ideas
					}
					NOT = {
						original_tag = GER
					}
				}
				if = {
					limit = {
						ROOT = {
							has_completed_focus = HUN_rapproachement_with_little_entente
						}
					}
					OR = {
						has_government = democratic
						has_government = neutrality
					}
				}
			}
		}

		visible = {
			original_tag = HUN
			has_completed_focus = HUN_continue_the_regency
			OR = {
				has_completed_focus = HUN_the_march_front
				has_completed_focus = HUN_strengthen_the_aristocracy
			}
			is_in_faction = no
		}

		cost = 50

		complete_effect = {
			FROM = {
				country_event = {
					id = generic.2
					hours = 4
				}
			}
		}
	}

	HUN_call_in_sweden = {
		available = {
			has_war = yes
		}
		visible = {
			has_completed_focus = HUN_elect_a_democratic_king
			NOT = {
				has_war_with = SWE
			}
			NOT = {
				is_in_faction_with = SWE
			}
			HUN = {
				has_idea = HUN_dynastic_ties
			}
			SWE = {
				has_idea = HUN_dynastic_ties
			}
		}
		cost = 0
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			SWE = {
				country_event = DOD_hungary.20
			}
		}
	}

	exchange_rakosi = {
		icon = generic_political_discourse
		priority = 9

		allowed = {
			original_tag = HUN
		}

		available = {
			has_completed_focus = HUN_look_outwards
		}

		target_trigger = {
			FROM = {
				tag = SOV
				has_government = communism
			}
		}

		visible = {
			original_tag = HUN
			NOT = { has_country_flag = HUN_exchanged_rakosi }
			has_prime_minister_chosen = yes
		}

		cost = 30
		fire_only_once = yes

		complete_effect = {
			hidden_effect = {
				set_country_flag = HUN_exchanged_rakosi
			}
			
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			add_war_support = 0.05
		}
	}

	secure_FROM_loans = {
		icon = hol_attract_foreign_investors
		priority = 9

		allowed = {
			original_tag = HUN
		}

		available = {
			has_completed_focus = HUN_limited_liberalisation
			NOT = {
				has_idea = HUN_loans5
			}
			has_war = no
			FROM = {
				has_war = no
			}
			NOT = {
				has_country_flag = HUN_securing_loans
			}
		}

		target_trigger = {
			FROM = {
				is_major = yes
				capital_scope = { is_on_continent = europe }
			}
		}

		visible = {
			original_tag = HUN
			has_completed_focus = HUN_goulash_communism
		}

		cost = 10

		modifier = {
			political_power_gain = -0.2
		}

		days_remove = 30
		days_re_enable = 5

		ai_will_do = {
			base = 20
			modifier = {
				factor = 0.5
				has_idea = HUN_loans3
			}
			modifier = {
				factor = 0.5
				has_idea = HUN_loans4
			}
		}

		complete_effect = {
			hidden_effect = {
				set_country_flag = HUN_securing_loans
			}
			add_offsite_building = { type = industrial_complex level = 4 }
		}

		remove_effect = {
			hidden_effect = {
				clr_country_flag = HUN_securing_loans
			}

			add_offsite_building = { type = industrial_complex level = -4 }
			add_political_power = 30

			add_popularity = {
				ideology = FROM
				popularity = 0.03
			}

			FROM = {
				if = {
					limit = {
						has_variable = HUN_has_loans_@FROM
					}
					add_to_variable = {
						var = HUN_has_loans_@FROM
						value = 1
					}
				}
				else = {
					set_variable = {
						var = HUN_has_loans_@FROM
						value = 1
					}
				}
			}

			add_loans_HUN = yes
		}
	}

	repay_FROM_loans = {
		icon = gre_paying_ifc_debt
		priority = 9

		allowed = {
			original_tag = HUN
		}

		available = {
			has_completed_focus = HUN_limited_liberalisation
			OR = {
				has_idea = HUN_loans
				has_idea = HUN_loans2
				has_idea = HUN_loans3
				has_idea = HUN_loans4
				has_idea = HUN_loans5
			}
		}

		target_trigger = {
			FROM = {
				has_variable = HUN_has_loans_@FROM
			}
		}

		visible = {
			original_tag = HUN
			has_completed_focus = HUN_goulash_communism
		}

		cost = 30

		ai_will_do = {
			base = 15
			modifier = {
				factor = 2
				has_idea = HUN_loans3
			}
			modifier = {
				factor = 2
				has_idea = HUN_loans4
			}
			modifier = {
				factor = 2
				has_idea = HUN_loans5
			}
		}

		modifier = {
			political_power_gain = -0.5
			consumer_goods_factor = 0.1
		}

		days_remove = 60
		days_re_enable = 10

		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_variable = HUN_has_loans_@FROM
					}
				}
				set_variable = {
					var = HUN_has_loans_@FROM
					value = 1
				}
			}
		}

		remove_effect = {
			FROM = {
				add_political_power = 50

				if = {
					limit = {
						check_variable = {
							var = HUN_has_loans_@FROM
							value = 1
							compare = equals
						}
					}
					clear_variable = HUN_has_loans_@FROM
				}
				else = {
					subtract_from_variable = {
						var = HUN_has_loans_@FROM
						value = 1
					}
				}
			}

			remove_loans_HUN = yes
			HUN_add_liberal_bop_medium = yes
		}
	}

	expand_cooperatives = {
		icon = generic_merge_plant_materiel
		priority = 9

		allowed = {
			original_tag = HUN
		}

		available = {
			has_completed_focus = HUN_new_economic_mechanism
		}

		visible = {
			original_tag = HUN
			has_completed_focus = HUN_goulash_communism
		}

		cost = 20

		modifier = {
			political_power_gain = -0.3
			consumer_goods_factor = 0.05
			production_factory_max_efficiency_factor = 0.05
			production_factory_efficiency_gain_factor = 0.1
		}

		days_remove = 60
		days_re_enable = 10

		ai_will_do = {
			base = 30
		}

		complete_effect = {
			add_offsite_building = { type = industrial_complex level = 2 }
		}

		remove_effect = {
			add_offsite_building = { type = industrial_complex level = -2 }
			remove_loans_HUN = yes
			HUN_add_liberal_bop_small = yes
		}
	}
}
