HUN_balance_of_power_category = {
	do_charity = {
		icon = generic_construction
		priority = 10

		allowed = {
			original_tag = HUN
		}

		available = {
			has_completed_focus = HUN_the_addams_family
			OR = {
				has_government = neutrality
				has_government = democratic
			}
		}

		visible = {
			original_tag = HUN
			has_completed_focus = HUN_continue_the_regency
		}

		cost = HUN_charity_cost

		modifier = {
			consumer_goods_factor = 0.02
			neutrality_drift = 0.02
		}

		days_remove = 60
		days_re_enable = 10

		ai_will_do = {
			base = 10
			modifier = {
				check_variable = { HUN_charity_cost > 40 }
				factor = 0.5
			}
			modifier = {
				check_variable = { HUN_charity_cost > 60 }
				factor = 0.5
			}
			modifier = {
				check_variable = { HUN_charity_cost > 80 }
				factor = 0
			}
		}

		complete_effect = {
			hidden_effect = {
				add_to_variable = { HUN_charity_cost = 20 }
			}
			custom_effect_tooltip = expensive_charity_tt
			add_popularity = {
				ideology = fascism
				popularity = -0.02
			}
		}

		remove_effect = {
			if = {
				limit = {
					43 = { # Hungary
						NOT = { has_state_flag = has_charity }
						is_controlled_by = HUN
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				43 = {
					hidden_effect = {
						set_state_flag = has_charity
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = {
					664 = { # Kosice
						NOT = { has_state_flag = has_charity }
						is_controlled_by = HUN
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				664 = {
					hidden_effect = {
						set_state_flag = has_charity
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			add_stability = 0.05
			HUN_add_crown_bop_small = yes
			HUN_add_conservative_bop_small = yes
		}
	}

	send_istvan_to_russia = {
		icon = generic_air
		priority = 20

		allowed = {
			original_tag = HUN
		}

		available = {
			has_completed_focus = HUN_elect_deputy_regent
			has_idea = HUN_istvan_horthy
			has_war = yes
		}

		target_trigger = {
			FROM = {
				has_war_with = HUN
				is_major = yes
			}
		}

		visible = {
			original_tag = HUN
			has_completed_focus = HUN_the_addams_family
		}

		cost = 50
		fire_only_once = yes

		complete_effect = {
			hidden_effect = {
				set_country_flag = HUN_sent_istvan
			}
		}

		modifier = {
			war_support_weekly = 0.01
			neutrality_drift = 0.03
		}

		days_remove = 180

		remove_effect = {
			random_list = {
				1 = {
					add_war_support = 0.1
					retire_character = HUN_istvan_horthy
					HUN_add_conservative_bop_small = yes
					HUN_add_army_bop_small = yes
				}
				9 = {
					hidden_effect = {
						set_country_flag = HUN_istvan_returned_alive
					}
					add_stability = 0.05
					HUN_add_liberal_bop_small = yes
					HUN_add_crown_bop_small = yes
				}
			}
		}
	}
}
